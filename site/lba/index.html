


<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <title>Nico’s work</title>
    <meta http-equiv="Content-Type" content="text/html;" charset="utf-8" >
    <meta name="viewport" charset="UTF-8" content="width=device-width, initial-scale=1">

    <!-- favicon -->

    <link rel="apple-touch-icon" sizes="180x180" href="../assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="../assets/favicon/site.webmanifest">
    <link rel="mask-icon" href="../assets/favicon/safari-pinned-tab.svg" color="#5bbad5">

    <link rel="stylesheet" href="../css/clearstyle.css">
    <link rel="stylesheet" href="../css/hershey.css">
    
    <script src="../js/lozad.js" charset="utf-8"></script>
  </head>

  
  <body>
    
<main data-view="projects">
  <nav>
    <h1><span>Nico Chilla</span><br><button class="expandable" id="view-toggle"><span></span></button></h1>
    <a class='email stick' href="mailto:jnico.chilla@gmail.com">contact</a>
  </nav>
  <header>
    <h1><span class="hide">Nico Chilla</span><span class="pronunciation-key">*</span>
    </h1>
  </header>
  <div id="grid">
    <section class="center" style="--mark:0;">
      <h3 class="pronunciation"><span>Spanish: (chi-ya),</span> <span>Argentinian: (chi-sha),</span> <span>American: (chill-uh)</span></h3>
    </section>

    <section class="center" style="--mark:0;">
      <h3>Now:</h3>
      <p><a href="https://www.nytimes.com/by/nico-chilla" target="_blank">Graphics Multimedia Editor</a> at The New York Times.</p>
    </section>

    <section class="center" style="--mark:0;">
      <h3>Before:</h3>
      <p>Graduated from Parsons/The New School with degrees in <a target="_blank" href="https://bfacd.parsons.edu/2022/nico-chilla">Communication Design</a> and philosophy. Have previously designed and developed with the L.A. Times, <a href="https://908a.org/" target="_blank">908A</a>, <a href="https://www.xxix.co/" target="_blank">XXIX</a>, and various independent collaborators.</p>

    </section>

    <section class="center" style="--mark:1;">
      <h3>Elsewhere:</h3>
      <p>You can find me in these places:<br>
        <a target="_blank" href=" https://nicochilla.com/">homepage</a>,
        <a target="_blank" href="mailto:jnico.chilla@gmail.com">email</a>,
        <a target="_blank" href="https://www.are.na/nico-chilla">are.na</a>,
        <a target="_blank" href="https://github.com/nchilla">github</a>,
        <a target="_blank" href="https://www.linkedin.com/in/nico-chilla-359529182/">linkedin</a>
        
    </section>



    
    
    
    <div class="single media-box text-col" data-effects="" style="--ratio:0.58" data-size=""  data-position="center" data-project="Platform Economies Research Network (PERN)">
      

  
  
  <figure style='--ratio:0.58;' class='video media  '>
    
    <video preload="none"  autoplay  muted playsinline loop poster="../assets/video/pern.jpg"  data-loaded="true"> 
      <source src="../assets/video/pern.webm" type="video/webm" media="(min-width:800px)">
      <source src="../assets/video/pern.mp4" type="video/mp4" media="(min-width:800px)">

      <source src="../assets/video/pern-small.webm" type="video/webm">
      <source src="../assets/video/pern-small.mp4" type="video/mp4">
    </video>
    
  </figure>

  

    </div>
    
    
      
<h3 class="label text-col" data-position="center" data-size="" data-project="Platform Economies Research Network (PERN)">
  Platform Economies Research Network (PERN)
  
    <a href="https://platformeconomies.net/" target="_blank">visit</a>
  
</h3>
<div class='description text-col' data-position="center" data-size="" data-project="Platform Economies Research Network (PERN)">
  <p>Website and identity designed as a freelancer for PERN, a research collaboration based out of my university which studies the economics of digital platforms.</p>
  <p>
    
    <button class="type expandable" data-text="set in Anonymous Pro and Aktiv Grotesk"><span></span></button>
    
    
    <button class="code expandable" data-text="Wordpress custom theme written in php and html+css+js"><span></span></button>
    
  </p>
</div>

    
    
    
    
    
    <div class="gallery media-box" data-position="left" data-inline-info="false" data-size="" data-project="WNSR New School Radio" style="--ratio: 0.58;">
      
      <div class="slide" data-effects="">
        

  
  
  <figure style='--ratio:0.58;' class='video media  lazy'>
    
    <video preload="none"  autoplay  muted playsinline loop poster="../assets/video/wnsr.jpg"  data-loaded="false"> 
      <source data-src="../assets/video/wnsr.webm" type="video/webm" media="(min-width:800px)">
      <source data-src="../assets/video/wnsr.mp4" type="video/mp4" media="(min-width:800px)">

      <source data-src="../assets/video/wnsr-small.webm" type="video/webm">
      <source data-src="../assets/video/wnsr-small.mp4" type="video/mp4">
    </video>
    
  </figure>

  

      </div>
      
      <div class="slide" data-effects="fitheight">
        

  
  
  
  
  
  

  <figure style='--ratio:1;' class="image fitheight media">
  <picture>
    <source type="image/webp" srcset="../assets/images/wnsr-memories.webp" type="image/webp">
    <source type="image/jpg" srcset="../assets/images/wnsr-memories.jpg">
    <img loading="lazy" src="../assets/images/wnsr-memories.jpg">
  </picture>
  
  </figure>





  

      </div>
      
      <div class="slide" data-effects="fitheight">
        

  
  
  
  
  
  

  <figure style='--ratio:1;' class="image fitheight media">
  <picture>
    <source type="image/webp" srcset="../assets/images/wnsr-whatsnew.webp" type="image/webp">
    <source type="image/jpg" srcset="../assets/images/wnsr-whatsnew.jpg">
    <img loading="lazy" src="../assets/images/wnsr-whatsnew.jpg">
  </picture>
  
  </figure>





  

      </div>
      
      <div class="slide" data-effects="fitheight">
        

  
  
  
  
  
  

  <figure style='--ratio:1;' class="image fitheight media">
  <picture>
    <source type="image/webp" srcset="../assets/images/wnsr-artculture.webp" type="image/webp">
    <source type="image/jpg" srcset="../assets/images/wnsr-artculture.jpg">
    <img loading="lazy" src="../assets/images/wnsr-artculture.jpg">
  </picture>
  
  </figure>





  

      </div>
      
      <div class="slide" data-effects="fitheight">
        

  
  
  
  
  
  

  <figure style='--ratio:1;' class="image fitheight media">
  <picture>
    <source type="image/webp" srcset="../assets/images/wnsr-centennial.webp" type="image/webp">
    <source type="image/jpg" srcset="../assets/images/wnsr-centennial.jpg">
    <img loading="lazy" src="../assets/images/wnsr-centennial.jpg">
  </picture>
  
  </figure>





  

      </div>
      
      
      
        <div class="end-cap">

        </div>
      
      
    </div>
 
    
    
      
<h3 class="label text-col" data-position="left" data-size="" data-project="WNSR New School Radio">
  WNSR New School Radio
  
    <a href="https://www.newschoolradio.org/" target="_blank">visit</a>
  
</h3>
<div class='description text-col' data-position="left" data-size="" data-project="WNSR New School Radio">
  <p>Landing page for my college radio station, featuring an audio visualizer and track listings for student-produced media. I also designed series graphics to display on audio platforms.</p>
  <p>
    
    <button class="type expandable" data-text="set in Neue and Neue Haas Unica"><span></span></button>
    
    
    <button class="code expandable" data-text="written in php and html+css+js, pulling data from an RSS feed and using the Web Audio API and D3.js for the visualizer"><span></span></button>
    
  </p>
</div>

    
    
    
    
    
    <div class="gallery media-box" data-position="center" data-inline-info="false" data-size="" data-project="Goby — Parsons thesis" style="--ratio: 0.58;">
      
      <div class="slide" data-effects="">
        

  
  
  <figure style='--ratio:0.58;' class='video media  lazy'>
    
    <video preload="none"  autoplay  muted playsinline loop poster="../assets/video/goby-new-relation.jpg"  data-loaded="false"> 
      <source data-src="../assets/video/goby-new-relation.webm" type="video/webm" media="(min-width:800px)">
      <source data-src="../assets/video/goby-new-relation.mp4" type="video/mp4" media="(min-width:800px)">

      <source data-src="../assets/video/goby-new-relation-small.webm" type="video/webm">
      <source data-src="../assets/video/goby-new-relation-small.mp4" type="video/mp4">
    </video>
    
  </figure>

  

      </div>
      
      <div class="slide" data-effects="">
        

  
  
  <figure style='--ratio:0.58;' class='video media  lazy'>
    
    <video preload="none"  autoplay  muted playsinline loop poster="../assets/video/goby-space.jpg"  data-loaded="false"> 
      <source data-src="../assets/video/goby-space.webm" type="video/webm" media="(min-width:800px)">
      <source data-src="../assets/video/goby-space.mp4" type="video/mp4" media="(min-width:800px)">

      <source data-src="../assets/video/goby-space-small.webm" type="video/webm">
      <source data-src="../assets/video/goby-space-small.mp4" type="video/mp4">
    </video>
    
  </figure>

  

      </div>
      
      
      
        <div class="end-cap">

        </div>
      
      
    </div>
 
    
    
      
<h3 class="label text-col" data-position="center" data-size="" data-project="Goby — Parsons thesis">
  Goby — Parsons thesis
  
    <a href="https://bfacd.parsons.edu/2022/nico-chilla" target="_blank">info</a>
  
</h3>
<div class='description text-col' data-position="center" data-size="" data-project="Goby — Parsons thesis">
  <p>Desktop app for organizing files and ideas, which allows you to alternate between table and graph representations of the same information.</p>
  <p>
    
    <button class="type expandable" data-text="iA Writer Duospace and IBM Plex Sans"><span></span></button>
    
    
    <button class="code expandable" data-text="built in Electron, using Vue.js and d3.js for frontend and SQLite for the backend"><span></span></button>
    
  </p>
</div>

    
    
    
    
    
    <div class="gallery media-box" data-position="left" data-inline-info="false" data-size="" data-project="Image Magazine issue landing template" style="--ratio: 0.58;">
      
      <div class="slide" data-effects="">
        

  
  
  <figure style='--ratio:0.58;' class='video media  lazy'>
    
    <video preload="none"  autoplay  muted playsinline loop poster="../assets/video/image.jpg"  data-loaded="false"> 
      <source data-src="../assets/video/image.webm" type="video/webm" media="(min-width:800px)">
      <source data-src="../assets/video/image.mp4" type="video/mp4" media="(min-width:800px)">

      <source data-src="../assets/video/image-small.webm" type="video/webm">
      <source data-src="../assets/video/image-small.mp4" type="video/mp4">
    </video>
    
  </figure>

  

      </div>
      
      <div class="slide" data-effects="video">
        

  
  
  
  
  
  

  <figure style='--ratio:0.583;' class="image video media">
  <picture>
    <source type="image/webp" srcset="../assets/images-large/image-i4.webp" type="image/webp">
    <source type="image/jpg" srcset="../assets/images-large/image-i4.jpg">
    <img loading="lazy" src="../assets/images-large/image-i4.jpg">
  </picture>
  
  </figure>





  

      </div>
      
      <div class="slide" data-effects="video">
        

  
  
  
  
  
  

  <figure style='--ratio:0.583;' class="image video media">
  <picture>
    <source type="image/webp" srcset="../assets/images-large/image-i6.webp" type="image/webp">
    <source type="image/jpg" srcset="../assets/images-large/image-i6.jpg">
    <img loading="lazy" src="../assets/images-large/image-i6.jpg">
  </picture>
  
  </figure>





  

      </div>
      
      
      
        <div class="end-cap">

        </div>
      
      
    </div>
 
    
    
      
<h3 class="label text-col" data-position="left" data-size="" data-project="Image Magazine issue landing template">
  Image Magazine issue landing template
  
    <a href="https://www.latimes.com/projects/imagemakersvol2/" target="_blank">visit</a>
  
</h3>
<div class='description text-col' data-position="left" data-size="" data-project="Image Magazine issue landing template">
  <p>Modular page generator for issues of LAT’s <em>Image Magazine</em>, designed to match their print identity system. It has been used going on 10 issues and won a <a href="https://airtable.com/shrMLVqYbqJ5nOxel/tblcwLDp60XQygKbq/viwb5v6acVmfP9fnd/rectGczoFQb1mquN0?backgroundColor=gray&amp;viewControls=on">bronze award</a> from the Society of News Design.</p>
  <p>
    
    <button class="type expandable" data-text="set in Druk Wide, Mabry Mono, and Grenette"><span></span></button>
    
    
    <button class="code expandable" data-text="Custom template written in Nunjucks with the L.A. Times static page generator, &lt;a href=&quot;https://github.com/datadesk/baker&quot; target=&quot;_blank&quot;&gt;Baker&lt;/a&gt;"><span></span></button>
    
  </p>
</div>

    
    
    
    
    
    <div class="gallery media-box" data-position="left" data-inline-info="false" data-size="" data-project="Tractatus Logico-Philosophicus Reader" style="--ratio: 0.58;">
      
      <div class="slide" data-effects="">
        

  
  
  <figure style='--ratio:0.58;' class='video media  lazy'>
    
    <video preload="none"  autoplay  muted playsinline loop poster="../assets/video/tr.jpg"  data-loaded="false"> 
      <source data-src="../assets/video/tr.webm" type="video/webm" media="(min-width:800px)">
      <source data-src="../assets/video/tr.mp4" type="video/mp4" media="(min-width:800px)">

      <source data-src="../assets/video/tr-small.webm" type="video/webm">
      <source data-src="../assets/video/tr-small.mp4" type="video/mp4">
    </video>
    
  </figure>

  

      </div>
      
      <div class="slide" data-effects="video">
        

  
  
  
  
  
  

  <figure style='--ratio:0.583;' class="image video media">
  <picture>
    <source type="image/webp" srcset="../assets/images-large/tabs-open.webp" type="image/webp">
    <source type="image/jpg" srcset="../assets/images-large/tabs-open.jpg">
    <img loading="lazy" src="../assets/images-large/tabs-open.jpg">
  </picture>
  
  </figure>





  

      </div>
      
      <div class="slide" data-effects="">
        

  
  
  <figure style='--ratio:0.58;' class='video media  lazy'>
    
    <video preload="none"  autoplay  muted playsinline loop poster="../assets/video/tractatus-nonsense.jpg"  data-loaded="false"> 
      <source data-src="../assets/video/tractatus-nonsense.webm" type="video/webm" media="(min-width:800px)">
      <source data-src="../assets/video/tractatus-nonsense.mp4" type="video/mp4" media="(min-width:800px)">

      <source data-src="../assets/video/tractatus-nonsense-small.webm" type="video/webm">
      <source data-src="../assets/video/tractatus-nonsense-small.mp4" type="video/mp4">
    </video>
    
  </figure>

  

      </div>
      
      <div class="slide" data-effects="video">
        

  
  
  
  
  
  

  <figure style='--ratio:0.5846666666666667;' class="image video media">
  <picture>
    <source type="image/webp" srcset="../assets/images-large/thread.webp" type="image/webp">
    <source type="image/jpg" srcset="../assets/images-large/thread.jpg">
    <img loading="lazy" src="../assets/images-large/thread.jpg">
  </picture>
  
  </figure>





  

      </div>
      
      
      
        <div class="end-cap">

        </div>
      
      
    </div>
 
    
    
      
<h3 class="label text-col" data-position="left" data-size="" data-project="Tractatus Logico-Philosophicus Reader">
  Tractatus Logico-Philosophicus Reader
  
    <a href="https://work.nicochilla.com/tractatus-tree/dendrogram.html" target="_blank">visit</a>
  
</h3>
<div class='description text-col' data-position="left" data-size="" data-project="Tractatus Logico-Philosophicus Reader">
  <p>This project presents a single text, Wittgenstein’s <a href="https://en.wikipedia.org/wiki/Tractatus_Logico-Philosophicus">Tractatus</a>, in 4 different ways, experimenting with different forms of reading and navigation.</p>
  <p>
    
    <button class="type expandable" data-text="heading is set in Panama, body text in Signifier, numbering and notation in Aktiv Grotesk"><span></span></button>
    
    
    <button class="code expandable" data-text="html+css+js, using Matter.js and D3.js"><span></span></button>
    
  </p>
</div>

    
    
    
    
    
    <div class="single media-box text-col" data-effects="" style="--ratio:0.64" data-size=""  data-position="center" data-project="Common Language studio website">
      

  
  
  <figure style='--ratio:0.64;' class='video media  lazy'>
    
    <video preload="none"  autoplay  muted playsinline loop poster="../assets/video/cl-extend.jpg"  data-loaded="false"> 
      <source data-src="../assets/video/cl-extend.webm" type="video/webm" media="(min-width:800px)">
      <source data-src="../assets/video/cl-extend.mp4" type="video/mp4" media="(min-width:800px)">

      <source data-src="../assets/video/cl-extend-small.webm" type="video/webm">
      <source data-src="../assets/video/cl-extend-small.mp4" type="video/mp4">
    </video>
    
  </figure>

  

    </div>
    
    
      
<h3 class="label text-col" data-position="center" data-size="" data-project="Common Language studio website">
  Common Language studio website
  
</h3>
<div class='description text-col' data-position="center" data-size="" data-project="Common Language studio website">
  <p>Studio website for an architecture student’s personal practice.</p>
  <p>
    
    <button class="type expandable" data-text="set in Nimbus Sans and Nimbus Roman"><span></span></button>
    
    
    <button class="code expandable" data-text="Wordpress custom theme written in php and html+css+js"><span></span></button>
    
  </p>
</div>

    
    
    
    
    
    <div class="gallery media-box" data-position="left" data-inline-info="false" data-size="" data-project="“The Secret” identity" style="--ratio: 0.58;">
      
      <div class="slide" data-effects="">
        

  
  
  <figure style='--ratio:0.58;' class='video media  lazy'>
    
    <video preload="none"  autoplay  muted playsinline loop poster="../assets/video/secret.jpg"  data-loaded="false"> 
      <source data-src="../assets/video/secret.webm" type="video/webm" media="(min-width:800px)">
      <source data-src="../assets/video/secret.mp4" type="video/mp4" media="(min-width:800px)">

      <source data-src="../assets/video/secret-small.webm" type="video/webm">
      <source data-src="../assets/video/secret-small.mp4" type="video/mp4">
    </video>
    
  </figure>

  

      </div>
      
      <div class="slide" data-effects="fitheight">
        

  
  
  
  
  
  

  <figure style='--ratio:1.545595054095827;' class="image fitheight media">
  <picture>
    <source type="image/webp" srcset="../assets/images/lear-1.webp" type="image/webp">
    <source type="image/jpg" srcset="../assets/images/lear-1.jpg">
    <img loading="lazy" src="../assets/images/lear-1.jpg">
  </picture>
  
  </figure>





  

      </div>
      
      <div class="slide" data-effects="fitheight">
        

  
  
  
  
  
  

  <figure style='--ratio:1.545595054095827;' class="image fitheight media">
  <picture>
    <source type="image/webp" srcset="../assets/images/tempest-4.webp" type="image/webp">
    <source type="image/jpg" srcset="../assets/images/tempest-4.jpg">
    <img loading="lazy" src="../assets/images/tempest-4.jpg">
  </picture>
  
  </figure>





  

      </div>
      
      <div class="slide" data-effects="fitheight nomobile">
        

  
  
  
  
  
  

  <figure style='--ratio:1.545595054095827;' class="image fitheight nomobile media">
  <picture>
    <source type="image/webp" srcset="../assets/images/msd-4.webp" type="image/webp">
    <source type="image/jpg" srcset="../assets/images/msd-4.jpg">
    <img loading="lazy" src="../assets/images/msd-4.jpg">
  </picture>
  
  </figure>





  

      </div>
      
      
      
        <div class="end-cap">

        </div>
      
      
    </div>
 
    
    
      
<h3 class="label text-col" data-position="left" data-size="" data-project="“The Secret” identity">
  “The Secret” identity
  
    <a href="https://work.nicochilla.com/advanced_type_motion/" target="_blank">visit</a>
  
</h3>
<div class='description text-col' data-position="left" data-size="" data-project="“The Secret” identity">
  <p>Identity system and website for a hypothetical theatre company. Rather than using a logo, excerpts from play scripts are used to conceal and reveal the name (‘the secret’) on different assets.</p>
  <p>
    
    <button class="type expandable" data-text="display set in Krona, body set in Space Mono"><span></span></button>
    
    
    <button class="code expandable" data-text="html+css+js, using D3.js"><span></span></button>
    
  </p>
</div>

    
    
    
    
    
    <div class="single media-box text-col" data-effects="" style="--ratio:0.58" data-size=""  data-position="center" data-project="What’s on your plate?">
      

  
  
  <figure style='--ratio:0.58;' class='video media  lazy'>
    
    <video preload="none"  autoplay  muted playsinline loop poster="../assets/video/lp-2.jpg"  data-loaded="false"> 
      <source data-src="../assets/video/lp-2.webm" type="video/webm" media="(min-width:800px)">
      <source data-src="../assets/video/lp-2.mp4" type="video/mp4" media="(min-width:800px)">

      <source data-src="../assets/video/lp-2-small.webm" type="video/webm">
      <source data-src="../assets/video/lp-2-small.mp4" type="video/mp4">
    </video>
    
  </figure>

  

    </div>
    
    
      
<h3 class="label text-col" data-position="center" data-size="" data-project="What’s on your plate?">
  What’s on your plate?
  
    <a href="https://www.latimes.com/projects/license-plates/" target="_blank">visit</a>
  
</h3>
<div class='description text-col' data-position="center" data-size="" data-project="What’s on your plate?">
  <p>Interactive for a story showcasing people around L.A. with interesting vanity plates. Built in collaboration with a team of reporters and photographers while interning at The L.A. Times.</p>
  <p>
    
    <button class="type expandable" data-text="KisFB, Benton Sans, and Georgia"><span></span></button>
    
    
    <button class="code expandable" data-text="nunjucks and html+css+js"><span></span></button>
    
  </p>
</div>

    
    
    
    
    
    <div class="single media-box text-col" data-effects="" style="--ratio:0.58" data-size=""  data-position="center" data-project="Sonnet index">
      

  
  
  <figure style='--ratio:0.58;' class='video media  lazy'>
    
    <video preload="none"  autoplay  muted playsinline loop poster="../assets/video/sonnets.jpg"  data-loaded="false"> 
      <source data-src="../assets/video/sonnets.webm" type="video/webm" media="(min-width:800px)">
      <source data-src="../assets/video/sonnets.mp4" type="video/mp4" media="(min-width:800px)">

      <source data-src="../assets/video/sonnets-small.webm" type="video/webm">
      <source data-src="../assets/video/sonnets-small.mp4" type="video/mp4">
    </video>
    
  </figure>

  

    </div>
    
    
      
<h3 class="label text-col" data-position="center" data-size="" data-project="Sonnet index">
  Sonnet index
  
    <a href="https://work.nicochilla.com/ci20/collection/" target="_blank">visit</a>
  
</h3>
<div class='description text-col' data-position="center" data-size="" data-project="Sonnet index">
  <p>Shakespeare’s 154 sonnets, presented as a single block of unbroken text. Visitors can browse each sonnet and learn about the body of work through filtering and editing features.</p>
  <p>
    
    <button class="type expandable" data-text="set in Starling, IBM Plex Mono, and IBM Plex Sans"><span></span></button>
    
    
    <button class="code expandable" data-text="html+css+js"><span></span></button>
    
  </p>
</div>

    
    
    
  </div>
  <footer>
    <span>
      <button class="type expandable" data-text='set in <a href="http://hershey-noailles.luuse.io/www/#Hershey-Noailles-Times-Simplex-Regular" target="_blank">Hershey Times Simplex</a>'><span></span></button>
      <button class="code expandable" data-text="html+css+js, using eleventy as a static site generator"><span></span></button>
    </span>

  </footer>
</main>
<script type="text/javascript">


  const main=document.querySelector('main');
  const grid=document.querySelector('#grid');
  let large=window.matchMedia('(min-width:1000px)');
  let timer;

  let window_width=0;

  window.addEventListener('load',init)
  window.addEventListener('resize',()=>{
    setColumnCount();
  });

  setColumnCount();

  function init(){
    document.querySelector('#view-toggle').addEventListener('click',function(){
      let current=main.dataset.view;
      window.scroll(0,0);
      main.dataset.view=current=='projects'?'info':'projects';
    })

    videoLazyLoad();

    

    document.querySelectorAll('.expandable.type, .expandable.code').forEach((button) => {
      button.addEventListener('click',function(){
        let el=event.currentTarget;
        let inside=el.querySelector('span');
        if(!el.classList.contains('open')){
          el.classList.add('open');
          inside.innerHTML=el.dataset.text;
        }else{
          el.classList.remove('open');
          inside.innerText='';
        }
      })
    });

    

    
  
  }


  

  function timeOutResize(){
    clearTimeout(timer);
    timer=setTimeout(setColumnCount,10);
  }

  function videoLazyLoad(){
      const observer=new IntersectionObserver(callback,{
        threshold:[0,0.5,1],
        rootMargin:window_width<800?"-74px 0px 0px":"100px"
      });

      let playing_videos=[];
      let intersecting_videos=[];

      const lazyVideos=document.querySelectorAll('.video video');
      
      for(let video of [...lazyVideos]){
         observer.observe(video);
         video.addEventListener('click',()=>{
          play_video(video);
         })
      }

      function play_video(node){
          node.play();
          playing_videos.push(node);
          if(playing_videos.length>2 && window_width<800){
              playing_videos[0].pause();
              console.log('paused for performance',playing_videos[0])
              playing_videos=playing_videos.slice(1);

              console.log('playing_videos',playing_videos)
          }
      }
      

      function callback(entries){
        for(let entry of entries){
          const intersecting=(entry.isIntersecting || entry.intersectionRatio>0)
          if(entry.target.dataset.loaded=='false'&&intersecting){
            console.log('loaded',entry.target)
              const sources=entry.target.querySelectorAll('source');
              for(let source of [...sources]){
                source.src=source.dataset.src;
              }
              entry.target.dataset.loaded="true";
              entry.target.load();
          }

          if(!intersecting){
            console.log('out of view, paused',entry.target)
            entry.target.pause();
            playing_videos=playing_videos.filter((node)=>node!==entry.target);
            intersecting_videos=intersecting_videos.filter((node)=>node!==entry.target);

            const paused_intersecting=intersecting_videos.find((node)=>node.paused);
            if(paused_intersecting&&playing_videos.length<2) play_video(paused_intersecting)
          }else if(window_width>800 || entry.intersectionRatio>=0.5){
            intersecting_videos.push(entry.target)
          }
          
          if(intersecting&&entry.target.paused){
            play_video(entry.target);
            console.log('entered view, started play',entry.target)
            
          }
          
        }
      }
      
    }


  function setColumnCount(){
    console.log('calculating columns');
    const w=window.innerWidth;
    window_width=w;
    const col=large.matches?110:90;
    const gap=15;
    const outer=large.matches?90:80;
    const content=large.matches?6:6;

    let count=Math.floor((w - outer + gap) / (col + gap));
    if(count % 2 == 1) count--;
    count=Math.min(count,10);

    let styleStr=`1fr repeat(${count},var(--col)) 1fr`;
    grid.style.setProperty('--fancy',styleStr);
    grid.style.setProperty('--edge',count + 3);
    grid.style.setProperty('--count',count);
    grid.style.setProperty('--bump',Math.ceil((count - content) / 2));
  }
</script>

  </body>
</html>
